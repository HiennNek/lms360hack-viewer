{"ast":null,"code":"import{H5P}from\"h5p-standalone\";import React,{useEffect,useRef}from\"react\";import{jsx as _jsx,Fragment as _Fragment}from\"react/jsx-runtime\";function PlayH5p(_ref){let{h5pJsonPath}=_ref;const h5pContainer=useRef(null);useEffect(()=>{const el=h5pContainer.current;const options={h5pJsonPath,frameJs:\"/assets/frame.bundle.js\",frameCss:\"/assets/h5p.css\"};// Initialize H5P on mount\nnew H5P(el,options).then(res=>{// console.log(res);\n}).catch(e=>{console.log(\"Err: \",e);});// Cleanup on unmount\nreturn()=>{// H5P standalone doesn't seem to expose a clean destroy method on the instance \n// ensuring we don't leak or crash.\n// Simply clearing the container innerHTML might be enough to prevent React warnings\n// but `h5p-standalone` might leave global listeners.\nif(el){el.innerHTML=\"\";}};},[h5pJsonPath]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{ref:h5pContainer})});}export default PlayH5p;","map":{"version":3,"names":["H5P","React","useEffect","useRef","jsx","_jsx","Fragment","_Fragment","PlayH5p","_ref","h5pJsonPath","h5pContainer","el","current","options","frameJs","frameCss","then","res","catch","e","console","log","innerHTML","children","ref"],"sources":["/home/hien/Downloads/h5p-standalone-in-react-1-forked/src/components/PlayH5p.jsx"],"sourcesContent":["import { H5P } from \"h5p-standalone\";\nimport React, { useEffect, useRef } from \"react\";\n\nfunction PlayH5p({ h5pJsonPath }) {\n  const h5pContainer = useRef(null);\n\n  useEffect(() => {\n    const el = h5pContainer.current;\n    const options = {\n      h5pJsonPath,\n      frameJs: \"/assets/frame.bundle.js\",\n      frameCss: \"/assets/h5p.css\"\n    };\n\n    // Initialize H5P on mount\n    new H5P(el, options)\n      .then((res) => {\n        // console.log(res);\n      })\n      .catch((e) => {\n        console.log(\"Err: \", e);\n      });\n\n    // Cleanup on unmount\n    return () => {\n      // H5P standalone doesn't seem to expose a clean destroy method on the instance \n      // ensuring we don't leak or crash.\n      // Simply clearing the container innerHTML might be enough to prevent React warnings\n      // but `h5p-standalone` might leave global listeners.\n      if (el) {\n        el.innerHTML = \"\";\n      }\n    };\n  }, [h5pJsonPath]);\n\n  return (\n    <>\n      <div ref={h5pContainer}></div>\n    </>\n  );\n}\n\nexport default PlayH5p;\n"],"mappings":"AAAA,OAASA,GAAG,KAAQ,gBAAgB,CACpC,MAAO,CAAAC,KAAK,EAAIC,SAAS,CAAEC,MAAM,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEjD,QAAS,CAAAC,OAAOA,CAAAC,IAAA,CAAkB,IAAjB,CAAEC,WAAY,CAAC,CAAAD,IAAA,CAC9B,KAAM,CAAAE,YAAY,CAAGR,MAAM,CAAC,IAAI,CAAC,CAEjCD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAU,EAAE,CAAGD,YAAY,CAACE,OAAO,CAC/B,KAAM,CAAAC,OAAO,CAAG,CACdJ,WAAW,CACXK,OAAO,CAAE,yBAAyB,CAClCC,QAAQ,CAAE,iBACZ,CAAC,CAED;AACA,GAAI,CAAAhB,GAAG,CAACY,EAAE,CAAEE,OAAO,CAAC,CACjBG,IAAI,CAAEC,GAAG,EAAK,CACb;AAAA,CACD,CAAC,CACDC,KAAK,CAAEC,CAAC,EAAK,CACZC,OAAO,CAACC,GAAG,CAAC,OAAO,CAAEF,CAAC,CAAC,CACzB,CAAC,CAAC,CAEJ;AACA,MAAO,IAAM,CACX;AACA;AACA;AACA;AACA,GAAIR,EAAE,CAAE,CACNA,EAAE,CAACW,SAAS,CAAG,EAAE,CACnB,CACF,CAAC,CACH,CAAC,CAAE,CAACb,WAAW,CAAC,CAAC,CAEjB,mBACEL,IAAA,CAAAE,SAAA,EAAAiB,QAAA,cACEnB,IAAA,QAAKoB,GAAG,CAAEd,YAAa,CAAM,CAAC,CAC9B,CAAC,CAEP,CAEA,cAAe,CAAAH,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}